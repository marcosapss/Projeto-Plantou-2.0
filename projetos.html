<!DOCTYPE html>
<html lang="pt-br" data-bs-theme="light">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Projetos ‚Äî Plantou!</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet">

  <style>
    :root{
      --brand-500:#2e7d32; --brand-600:#276d2b; --brand-700:#215e25;
      --accent-500:#ff9800; --accent-600:#f57c00;
      --neutral-50:#f8f9fb; --neutral-100:#eef1f4; --neutral-700:#3e4b57;
      --bs-primary: var(--brand-500);
      --bs-warning: var(--accent-500);
    }
    body{font-family:'Open Sans',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:var(--neutral-50)}
    .brand-title{font-family:'Montserrat',sans-serif;font-weight:800}
    header.navbar{background:var(--brand-600)}
    header .nav-link{color:#fff;font-weight:700;opacity:.92}
    header .nav-link.active, header .nav-link:hover{opacity:1;position:relative}
    header .nav-link.active::after{content:"";position:absolute;left:50%;transform:translateX(-50%);bottom:-6px;width:24px;height:3px;border-radius:2px;background:var(--accent-500)}
    .card-soft{background:#f1f8e9;border:1px solid rgba(0,0,0,.05)}
    #map{width:100%;height:520px;border-radius:16px;box-shadow:0 12px 28px rgba(0,0,0,.12);background:var(--neutral-50)}
    .legend .tag{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#fff;border:1px solid rgba(0,0,0,.08)}
    .legend .dot{width:10px;height:10px;border-radius:999px;background:currentColor;display:inline-block}
    .leaflet-popup-content-wrapper{border-radius:12px;box-shadow:0 20px 48px rgba(0,0,0,.18);border:1px solid rgba(0,0,0,.06)}
  </style>
</head>
<body>

<header class="navbar navbar-expand-lg sticky-top shadow-sm">
  <div class="container">
    <a class="navbar-brand text-white d-flex align-items-center gap-2" href="index.html">
      <i class="fas fa-seedling"></i><span class="brand-title">Plantou!</span>
    </a>
    <button class="navbar-toggler text-white border-0" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>
    <nav id="navMain" class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center gap-lg-2">
        <li class="nav-item"><a class="nav-link" href="index.html">In√≠cio</a></li>
        <li class="nav-item"><a class="nav-link" href="sobre.html">Sobre</a></li>
        <li class="nav-item"><a class="nav-link" href="como-funciona.html">Como Funciona</a></li>
        <li class="nav-item"><a class="nav-link active" href="projetos.html">Projetos</a></li>
        <li class="nav-item"><a class="nav-link" href="contato.html">Contato</a></li>
        <li class="nav-item ms-lg-3 d-flex gap-2">
          <a class="btn btn-outline-light btn-pill px-4" href="login.html">Entrar</a>
          <a class="btn btn-light btn-pill px-4 text-primary fw-800" href="register.html">Registrar</a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<section class="py-4 bg-white">
  <div class="container d-flex flex-wrap align-items-center justify-content-between gap-2">
    <div>
      <h2 class="brand-title h2 mb-1">Projetos e pontos de cuidado</h2>
      <p class="text-muted mb-0">Veja no mapa onde estamos plantando e mantendo √°rvores pelo Rio.</p>
    </div>
    <a href="doacao.html" class="btn btn-warning btn-pill px-4">Apoiar agora</a>
  </div>
</section>

<section class="py-2 bg-white">
  <div class="container">
    <div class="row g-4">
      <div class="col-lg-8">
        <div id="map"></div>
      </div>
      <div class="col-lg-4">
        <div class="card p-3">
          <h3 class="brand-title h4">Filtros</h3>
          <div class="mt-2 d-grid gap-2">
            <div class="form-check">
              <input class="form-check-input type-filter" type="checkbox" value="corredor" id="f1" checked>
              <label class="form-check-label" for="f1"><span class="legend tag" style="color:#16a34a"><span class="dot"></span> Corredor verde</span></label>
            </div>
            <div class="form-check">
              <input class="form-check-input type-filter" type="checkbox" value="orla" id="f2" checked>
              <label class="form-check-label" for="f2"><span class="legend tag" style="color:#0ea5e9"><span class="dot"></span> Orla</span></label>
            </div>
            <div class="form-check">
              <input class="form-check-input type-filter" type="checkbox" value="favela" id="f3" checked>
              <label class="form-check-label" for="f3"><span class="legend tag" style="color:#f59e0b"><span class="dot"></span> Favela</span></label>
            </div>
            <div class="form-check">
              <input class="form-check-input type-filter" type="checkbox" value="mangue" id="f4" checked>
              <label class="form-check-label" for="f4"><span class="legend tag" style="color:#4f46e5"><span class="dot"></span> Mangue</span></label>
            </div>
            <div class="form-check">
              <input class="form-check-input type-filter" type="checkbox" value="escola" id="f5" checked>
              <label class="form-check-label" for="f5"><span class="legend tag" style="color:#ef4444"><span class="dot"></span> Escola</span></label>
            </div>
          </div>

          <div class="mt-4 p-3 card-soft rounded-3">
            <p class="small text-muted mb-0">Clique em um ponto para abrir o popup com foto, metas e link para doar para aquele projeto.</p>
          </div>
        </div>
      </div>
    </div>

    <h3 class="brand-title h4 mt-4">Projetos em destaque</h3>
    <div class="row g-4">
      <div class="col-md-4">
        <article class="card h-100">
          <img src="https://images.unsplash.com/photo-1523978591478-c753949ff840?q=80&w=1200&auto=format&fit=crop" class="card-img-top" alt="">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="brand-title h5 mb-0">Corredor Verde Tijuca</h5>
              <span class="badge text-bg-success">Urbano</span>
            </div>
            <p class="text-muted mb-0 mt-1">Conex√£o de pra√ßas e canteiros para reduzir ilhas de calor.</p>
          </div>
        </article>
      </div>
      <div class="col-md-4">
        <article class="card h-100">
          <img src="https://images.unsplash.com/photo-1506765515384-028b60a970df?q=80&w=1200&auto=format&fit=crop" class="card-img-top" alt="">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="brand-title h5 mb-0">Orla Reflorestada</h5>
              <span class="badge text-bg-info">Orla</span>
            </div>
            <p class="text-muted mb-0 mt-1">Replantio de esp√©cies nativas para prote√ß√£o da orla.</p>
          </div>
        </article>
      </div>
      <div class="col-md-4">
        <article class="card h-100">
          <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200&auto=format&fit=crop" class="card-img-top" alt="">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="brand-title h5 mb-0">Escolas Sombreadas</h5>
              <span class="badge text-bg-danger">Educa√ß√£o</span>
            </div>
            <p class="text-muted mb-0 mt-1">Cria√ß√£o de sombra e educa√ß√£o ambiental em escolas p√∫blicas.</p>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>

<footer class="py-4" style="background:#122415;color:#fff">
  <div class="container d-flex flex-column flex-lg-row align-items-center justify-content-between gap-3">
    <a class="text-white text-decoration-none d-flex align-items-center gap-2" href="#"><span>üå±</span><strong>Plantou!</strong></a>
    <ul class="nav">
      <li class="nav-item"><a class="nav-link text-white-50" href="como-funciona.html">Como funciona</a></li>
      <li class="nav-item"><a class="nav-link text-white-50" href="projetos.html">Projetos</a></li>
      <li class="nav-item"><a class="nav-link text-white-50" href="sobre.html">Sobre</a></li>
      <li class="nav-item"><a class="nav-link text-white-50" href="contato.html">Contato</a></li>
    </ul>
    <div class="d-flex align-items-center gap-2">
      <span>¬© <span id="year"></span> Plantou!</span>
      <a class="btn btn-sm btn-primary btn-pill" href="login.html">Entrar</a>
      <button class="btn btn-sm btn-outline-light btn-pill" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</button>
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  document.getElementById('year').textContent=new Date().getFullYear();

  const MAP_CENTER=[-22.9083,-43.1964];
  const COLORS={ corredor:'#16a34a', orla:'#0ea5e9', favela:'#f59e0b', mangue:'#4f46e5', escola:'#ef4444' };

  const PROJECTS=[
    {id:'tj-001',name:'Corredor Verde Tijuca',type:'corredor',lat:-22.933,lon:-43.235,img:'https://images.unsplash.com/photo-1523978591478-c753949ff840?q=80&w=1200&auto=format&fit=crop',goal:'1.200 mudas / 2025',progress:.62,blurb:'Conex√£o de pra√ßas e canteiros para reduzir ilhas de calor.'},
    {id:'or-002',name:'Orla Reflorestada (Copacabana)',type:'orla',lat:-22.971,lon:-43.182,img:'https://images.unsplash.com/photo-1506765515384-028b60a970df?q=80&w=1200&auto=format&fit=crop',goal:'800 mudas / 2025',progress:.48,blurb:'Replantio de esp√©cies nativas para prote√ß√£o da orla e dunas.'},
    {id:'fv-003',name:'Verde nas Comunidades (Alem√£o)',type:'favela',lat:-22.848,lon:-43.275,img:'https://images.unsplash.com/photo-1542038784456-1ea8e935640e?q=80&w=1200&auto=format&fit=crop',goal:'600 mudas / 2025',progress:.35,blurb:'Sombras em vielas e √°reas comuns, com mutir√µes comunit√°rios.'},
    {id:'mg-004',name:'Manguezal da Guanabara',type:'mangue',lat:-22.813,lon:-43.246,img:'https://images.unsplash.com/photo-1518837695005-2083093ee35b?q=80&w=1200&auto=format&fit=crop',goal:'10 ha restaurados',progress:.41,blurb:'Recupera√ß√£o de √°reas de mangue e ber√ß√°rios de vida marinha.'},
    {id:'es-005',name:'Escola Sombreada (Darcy Ribeiro)',type:'escola',lat:-22.909,lon:-43.176,img:'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200&auto=format&fit=crop',goal:'120 mudas / 2025',progress:.58,blurb:'Plantio educativo e manuten√ß√£o com alunos e respons√°veis.'},
  ];

  const map=L.map('map',{scrollWheelZoom:true}).setView(MAP_CENTER,12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19,attribution:'&copy; OpenStreetMap'}).addTo(map);

  const groups={ corredor:L.layerGroup().addTo(map), orla:L.layerGroup().addTo(map), favela:L.layerGroup().addTo(map), mangue:L.layerGroup().addTo(map), escola:L.layerGroup().addTo(map) };

  function popupHTML(p){
    const pct=Math.round(p.progress*100);
    return `
      <div style="min-width:240px">
        <div style="display:flex;gap:10px;align-items:center">
          <div style="width:38px;height:38px;border-radius:10px;background:${COLORS[p.type]};opacity:.12"></div>
          <div>
            <strong style="font-family:Montserrat,sans-serif;color:#215e25">${p.name}</strong>
            <div style="font-size:.85rem;color:#6b7280">${p.blurb}</div>
          </div>
        </div>
        <img src="${p.img}" alt="" style="width:100%;height:120px;object-fit:cover;border-radius:10px;margin:10px 0" />
        <div style="font-size:.9rem;color:#215e25"><b>Meta:</b> ${p.goal}</div>
        <div class="progress" style="height:10px;background:#eef1f4;border-radius:999px;overflow:hidden;margin-top:8px">
          <div class="progress-bar" role="progressbar" style="width:${pct}%;background:linear-gradient(90deg,#4caf50,#69d36f)"></div>
        </div>
        <a href="doacao.html" class="btn btn-warning btn-sm btn-pill mt-2">Doar para este projeto</a>
      </div>
    `;
  }

  PROJECTS.forEach(p=>{
    const m=L.circleMarker([p.lat,p.lon],{
      radius:9,color:COLORS[p.type],weight:2,fillColor:COLORS[p.type],fillOpacity:.2
    }).bindPopup(popupHTML(p));
    m.addTo(groups[p.type]); p._m=m;
  });

  document.querySelectorAll('.type-filter').forEach(cb=>{
    cb.addEventListener('change',e=>{
      const t=e.target.value;
      if(e.target.checked){ groups[t].addTo(map); } else { map.removeLayer(groups[t]); }
    });
  });
</script>
</body>
</html>
